import React, { useState } from 'react';
import { motion } from 'framer-motion';
import { 
  ChevronRight, 
  User, 
  Briefcase, 
  Code, 
  GraduationCap, 
  Boxes,
  Github,
  Linkedin,
  Mail,
  Phone,
  ArrowRight
} from 'lucide-react';

export default function Portfolio() {
  const [activeSection, setActiveSection] = useState('about');
  const [hoveredProject, setHoveredProject] = useState(null);

  const navigation = [
    { id: 'about', label: 'About', icon: User },
    { id: 'experience', label: 'Experience', icon: Briefcase },
    { id: 'projects', label: 'Projects', icon: Code },
    { id: 'skills', label: 'Skills', icon: Boxes }
  ];

  const experience = [
    {
      title: "Software Developer",
      company: "Auxilis",
      period: "2022-2023",
      achievements: [
        "Developed new signup workflow (↑30% subscriptions)",
        "Optimized performance (↑50% speed)",
        "Enhanced AI document processing (↑15% accuracy)"
      ]
    }
  ];

  const projects = [
    {
      title: "Casenoter",
      description: "Legal research desktop application with global database access",
      tags: ["TypeScript", "Angular", "GraphQL", "Electron", "AWS"],
      color: "bg-blue-500"
    },
    {
      title: "Find a Recruiter (FAR)",
      description: "Subscription-based recruitment marketplace platform",
      tags: ["TypeScript", "Angular", "RxJS", "GraphQL", "Prisma"],
      color: "bg-purple-500"
    }
  ];

  const skills = {
    "Languages": ["TypeScript", "JavaScript", "HTML5", "CSS/Sass"],
    "Frameworks": ["Angular", "Node.js", "Express", "Ionic", "Electron"],
    "Cloud & Tools": ["AWS Services", "GraphQL", "PostgreSQL", "Prisma ORM"]
  };

  return (
    <div className="min-h-screen bg-white text-gray-900">
      {/* Sidebar Navigation */}
      <motion.nav 
        initial={{ x: -100, opacity: 0 }}
        animate={{ x: 0, opacity: 1 }}
        className="fixed top-0 left-0 h-screen w-20 bg-gray-50 border-r border-gray-100 flex flex-col items-center py-8"
      >
        {navigation.map(({ id, label, icon: Icon }) => (
          <motion.button
            key={id}
            whileHover={{ scale: 1.1 }}
            whileTap={{ scale: 0.95 }}
            onClick={() => setActiveSection(id)}
            className={`p-3 mb-4 rounded-xl relative group ${
              activeSection === id ? 'text-blue-500' : 'text-gray-400 hover:text-gray-600'
            }`}
          >
            <Icon size={24} />
            <motion.span 
              className="absolute left-16 px-2 py-1 bg-gray-900 text-white text-sm rounded opacity-0 invisible group-hover:opacity-100 group-hover:visible whitespace-nowrap"
              initial={{ x: -10, opacity: 0 }}
              animate={{ x: 0, opacity: 1 }}
            >
              {label}
            </motion.span>
          </motion.button>
        ))}
      </motion.nav>

      {/* Main Content */}
      <main className="ml-20 p-8">
        {/* Header */}
        <motion.header 
          initial={{ y: -20, opacity: 0 }}
          animate={{ y: 0, opacity: 1 }}
          className="mb-12"
        >
          <h1 className="text-4xl font-light mb-2">Armaghan Zahid</h1>
          <p className="text-xl text-gray-600 mb-4">Full Stack Developer</p>
          <div className="flex gap-4">
            {[
              { icon: Mail, href: "mailto:armaghan.z.b@gmail.com", label: "Email" },
              { icon: Phone, href: "tel:+61491095289", label: "Phone" },
              { icon: Linkedin, href: "https://linkedin.com/in/armaghanzahid", label: "LinkedIn" },
              { icon: Github, href: "#", label: "GitHub" }
            ].map(({ icon: Icon, href, label }) => (
              <motion.a
                key={label}
                href={href}
                whileHover={{ scale: 1.1 }}
                whileTap={{ scale: 0.95 }}
                className="p-2 rounded-full hover:bg-gray-100 text-gray-600 hover:text-gray-900 transition-colors"
              >
                <Icon size={20} />
              </motion.a>
            ))}
          </div>
        </motion.header>

        {/* About Section */}
        <motion.section
          initial={{ opacity: 0 }}
          animate={{ opacity: activeSection === 'about' ? 1 : 0 }}
          className={`${activeSection === 'about' ? 'block' : 'hidden'}`}
        >
          <p className="text-lg text-gray-600 leading-relaxed max-w-2xl">
            Full-stack developer experienced in building desktop and web-based systems, 
            proficient in the complete project lifecycle including inception, development, 
            testing, deployment, and maintenance.
          </p>
        </motion.section>

        {/* Experience Section */}
        <motion.section
          initial={{ opacity: 0 }}
          animate={{ opacity: activeSection === 'experience' ? 1 : 0 }}
          className={`${activeSection === 'experience' ? 'block' : 'hidden'}`}
        >
          {experience.map((job, index) => (
            <motion.div
              key={index}
              initial={{ y: 20, opacity: 0 }}
              animate={{ y: 0, opacity: 1 }}
              transition={{ delay: index * 0.1 }}
              className="mb-8"
            >
              <h3 className="text-xl font-medium mb-1">{job.title}</h3>
              <p className="text-gray-600 mb-3">{job.company} · {job.period}</p>
              <ul className="space-y-2">
                {job.achievements.map((achievement, i) => (
                  <motion.li
                    key={i}
                    initial={{ x: -20, opacity: 0 }}
                    animate={{ x: 0, opacity: 1 }}
                    transition={{ delay: (index * 0.1) + (i * 0.1) }}
                    className="flex items-center gap-2 text-gray-700"
                  >
                    <ChevronRight size={16} className="text-blue-500" />
                    {achievement}
                  </motion.li>
                ))}
              </ul>
            </motion.div>
          ))}
        </motion.section>

        {/* Projects Section */}
        <motion.section
          initial={{ opacity: 0 }}
          animate={{ opacity: activeSection === 'projects' ? 1 : 0 }}
          className={`${activeSection === 'projects' ? 'grid grid-cols-1 md:grid-cols-2 gap-6' : 'hidden'}`}
        >
          {projects.map((project, index) => (
            <motion.div
              key={index}
              initial={{ y: 20, opacity: 0 }}
              animate={{ y: 0, opacity: 1 }}
              transition={{ delay: index * 0.1 }}
              onHoverStart={() => setHoveredProject(index)}
              onHoverEnd={() => setHoveredProject(null)}
              className="group relative p-6 rounded-xl border border-gray-200 hover:border-blue-500 transition-colors"
            >
              <div className="mb-4">
                <h3 className="text-xl font-medium mb-2">{project.title}</h3>
                <p className="text-gray-600">{project.description}</p>
              </div>
              <div className="flex flex-wrap gap-2">
                {project.tags.map((tag, i) => (
                  <motion.span
                    key={i}
                    initial={{ opacity: 0, scale: 0.8 }}
                    animate={{ opacity: 1, scale: 1 }}
                    transition={{ delay: (index * 0.1) + (i * 0.1) }}
                    className="px-3 py-1 rounded-full bg-gray-100 text-gray-700 text-sm"
                  >
                    {tag}
                  </motion.span>
                ))}
              </div>
              <motion.div
                initial={{ opacity: 0, scale: 0.8 }}
                animate={{ 
                  opacity: hoveredProject === index ? 1 : 0,
                  scale: hoveredProject === index ? 1 : 0.8
                }}
                className="absolute top-4 right-4"
              >
                <ArrowRight className="text-blue-500" />
              </motion.div>
            </motion.div>
          ))}
        </motion.section>

        {/* Skills Section */}
        <motion.section
          initial={{ opacity: 0 }}
          animate={{ opacity: activeSection === 'skills' ? 1 : 0 }}
          className={`${activeSection === 'skills' ? 'grid grid-cols-1 md:grid-cols-3 gap-6' : 'hidden'}`}
        >
          {Object.entries(skills).map(([category, items], index) => (
            <motion.div
              key={category}
              initial={{ y: 20, opacity: 0 }}
              animate={{ y: 0, opacity: 1 }}
              transition={{ delay: index * 0.1 }}
              className="p-6 rounded-xl border border-gray-200"
            >
              <h3 className="text-lg font-medium mb-4">{category}</h3>
              <div className="flex flex-wrap gap-2">
                {items.map((skill, i) => (
                  <motion.span
                    key={i}
                    initial={{ opacity: 0, scale: 0.8 }}
                    animate={{ opacity: 1, scale: 1 }}
                    transition={{ delay: (index * 0.1) + (i * 0.1) }}
                    whileHover={{ scale: 1.05 }}
                    className="px-3 py-1 rounded-full bg-gray-100 text-gray-700 text-sm"
                  >
                    {skill}
                  </motion.span>
                ))}
              </div>
            </motion.div>
          ))}
        </motion.section>
      </main>
    </div>
  );
}
